<nz-switch
  [(ngModel)]="gridView"
  nzCheckedChildren="Grid View"
  nzUnCheckedChildren="Table View"
></nz-switch>

<br />
<br />

<div nz-row [nzGutter]="16" *ngIf="bookResults?.length && gridView">
  <div nz-col class="gutter-row" [nzSpan]="24">
    <nz-radio-group
      name="filter"
      [(ngModel)]="selectedType"
      (ngModelChange)="filterChanged($event)"
      nzButtonStyle="solid"
    >
      <!-- [nzStyle]="{ backgroundColor: '#52c41a' }" -->

      <nz-badge [nzCount]="bookResults?.length">
        <label nz-radio-button nzValue="All">All</label>
      </nz-badge>
      <label nz-radio-button nzValue="currently-reading"
        >Currently Reading</label
      >
      <label nz-radio-button nzValue="read">Read</label>
      <label nz-radio-button nzValue="read-it-later">Read It Later</label>
    </nz-radio-group>
  </div>
  <br />
  <br />
  <br />
</div>

<div class="books-container" *ngIf="gridView">
  <div *ngFor="let item of displaybookResults; let i = index">
    <shared-book-card
      (output)="updateList()"
      [bookInfo]="item"
      [userDisplay]="true"
      [showRibbon]="true"
    >
    </shared-book-card>
  </div>
</div>

<div *ngIf="!gridView && bookResults?.length">
  <nz-page-header [nzGhost]="false">
    <nz-page-header-title>Table View</nz-page-header-title>
    <!-- <nz-page-header-subtitle>This is a subtitle</nz-page-header-subtitle> -->
    <nz-page-header-content class="display-flex">
      <nz-input-group
        nzSearch
        class="search flex-item"
        [nzAddOnAfter]="suffixIconButton"
      >
        <input
          type="text"
          [(ngModel)]="search_name"
          nz-input
          placeholder="search by book name"
        />
      </nz-input-group>
      <ng-template #suffixIconButton>
        <button nz-button nzType="primary" (click)="search()" nzSearch>
          <i nz-icon nzType="search"></i>
        </button>
      </ng-template>

      <nz-select class="status-select flex-item" [(ngModel)]="statusBooks">
        <!-- (ngModelChange)="changedType($event)" -->

        <nz-option nzValue="all" nzLabel="all"></nz-option>
        <nz-option nzValue="pending" nzLabel="pending"></nz-option>
        <nz-option nzValue="complete" nzLabel="complete"></nz-option>
        <nz-option nzValue="cancelled" nzLabel="cancelled"></nz-option>
      </nz-select>
    </nz-page-header-content>
  </nz-page-header>

  <nz-table #basicTable [nzData]="bookResults">
    <thead>
      <tr>
        <th>Name</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of basicTable.data">
        <td>{{ data.title }}</td>
        <td>
          <span
            class="status"
            [class.green]="data.status === 'complete'"
            [class.black]="data.status === 'cancelled'"
            [class.orange]="data.status === 'pending'"
            >{{ data.status }}</span
          >
        </td>
        <td></td>
      </tr>
    </tbody>
  </nz-table>
</div>

<div class="books-container" *ngIf="loading && !bookResults.length">
  <div *ngFor="let item of skeletonItems; let i = index">
    <nz-skeleton [nzActive]="true"></nz-skeleton>
  </div>
</div>

<div
  nz-row
  [nzGutter]="16"
  *ngIf="displaybookResults.length === 0 && bookResults?.length"
>
  <div nz-col class="gutter-row" [nzSpan]="4"></div>
  <div nz-col class="gutter-row" [nzSpan]="16">
    <nz-result
      [nzIcon]="'frown-twotone'"
      [nzTitle]="'You do not have any book in this category!'"
    >
      <!-- <div nz-result-extra>
      <button nz-button nzType="primary">Next</button>
    </div> -->
    </nz-result>
  </div>
  <div nz-col class="gutter-row" [nzSpan]="4"></div>
</div>

<div nz-row [nzGutter]="16" *ngIf="!loading && bookResults.length === 0">
  <div nz-col class="gutter-row" [nzSpan]="4"></div>
  <div nz-col class="gutter-row" [nzSpan]="16">
    <nz-result
      [nzIcon]="'smile-twotone'"
      [nzTitle]="
        'Welcome to Booky! We are excited to have you here. Lets get started by browsing books from the booky search engine. '
      "
    >
      <div nz-result-extra>
        <button nz-button routerLink="/home/search" nzType="primary">
          Let's Start!
        </button>
      </div>
    </nz-result>
  </div>
  <div nz-col class="gutter-row" [nzSpan]="4"></div>
</div>
